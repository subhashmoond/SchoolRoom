
<p-toast />
    <div class="grid client-dashborad-header mb-4 align-items-center">
        <div class="col-6">
            <h4 class="subheading-color">Comments List</h4>
        </div>
        <div class="col-6 flex justify-content-end">
            <p-inputSwitch [(ngModel)]="allowReview" (onChange)="onAllowReviewChange()" [trueValue]="true" />
        </div>
    </div>

    <!-- <div class="curiculam-h" > -->

        <p-table [rows]="10" [showLoader]="true" [responsive]="true" [scrollable]="true" scrollHeight="37.938rem"
            selectionMode="single" class="client-data-table" [value]="reviewList">
    
            <ng-template pTemplate="header" class="p-4">
                <tr class="w-full flex flex-wrap">
                    <th style="width:20%;word-break:break-all;" class="pl-3 pt-3 border-none primary-color">NAME</th>
                    <th style="width:10%;word-break:break-all;" class="pl-4 pt-3 border-none primary-color">RATING</th>
                    <th style="width:40%;word-break:break-all;" class="pl-4 pt-3 border-none primary-color">REVIEW TEXT
                    </th>
                    <th style="width:30%;word-break:break-all;" class="pl-4 pt-3 border-none primary-color">ACTION</th>

                </tr>
            </ng-template>
    
            <ng-template pTemplate="body" let-data>
                <tr class="w-full flex flex-wrap">
                    <td style="width: 20%;word-break:break-all;" class="pl-4 capitalize">
                        {{data.userName}}
                    </td>
                    <td style="width: 10%;word-break:break-all;" class="pl-4">
                        {{data.rating}}
                    </td>
                    <td style="width: 40%;" class="pl-4">
                        {{data.review_text}}
                    </td>

                    <td style="width: 30%;word-break:break-all;" class="pl-4">
                         @if(data.reviewStatus === "pending"){
                            <button type="submit" pButton pRipple label="Approve" (click)="approveReview(data.id, 'approve')" class="primary-button px-3 text-sm"></button>
                            <button type="submit" pButton pRipple label="Reject" (click)="approveReview(data.id, 'reject')" class=" ml-2 primary-button px-3 text-sm" style="background: red; border-color: red;" ></button>
                         }
                         @else{
                            <button type="submit" pButton pRipple label="Block" (click)="blockReviews(data.id)" class="primary-button px-3 text-sm"></button>
                            
                         }

                    </td>

                </tr>
            </ng-template>
    
            <ng-template pTemplate="emptymessage">
                 <div class="flex align-items-center justify-content-center flex-column h-full w-full h-30rem">
                        <img src="../../../../../assets/images/icon/no-data.svg">
                        <p class="text-primary-purple text-xl font-semibold mt-6 mb-1">No Comments</p>
                        <p class="text-primary-purple text-base font-normal mt-2">There is no Comments to show you right now.</p>
                    </div>
            </ng-template>
    
        </p-table>
    <!-- </div> -->


@if(isCreateCoupons){
    <p-sidebar [(visible)]="isCreateCoupons" position="right" [style]="{width:'27.6%'}">
    <h4 class="pt-4 pb-4 m-0 font-semibold line-height-sm">Create Coupons </h4>

        <form [formGroup]="createCouponsForm" class="w-full flex flex-wrap">

            <div class="grid nested-grid mt-3">
    
                <div class="col-12">
                    <div class="grid">

                        <div class="col-12">
                            <label class="w-full mb-1 text-sm font-medium line-height-exsm inline-block"> Discount
                                <span>*</span></label>
                            <input class="w-full capitalize" type="text" pInputText formControlName="discount" />
                        </div>
    
                        
    
                        <div class="col-12">
                            <label class="w-full mb-1 text-sm font-medium line-height-exsm inline-block"> Valid To </label>
                            <p-calendar formControlName="todate" />
                        </div>  

                        <div class="col-12">
                            <div class="flex align-items-center">
                                <p-checkbox formControlName="suggestDuring" label="Suggest During" name="suggest"
                                    [binary]="true" />
                            </div>
                        </div>
    
                    </div>
                </div>
    
    
    
            </div>
    
            <div
                class="assign-fix-buttons bg-white py-3 px-5 fixed flex flex-wrap aign-items-center justify-content-end mt-5">
                <button pButton pRipple label="{{'labels.buttons.Cancel' | translate}}"
                    class="primary-border-button px-5 mr-3 text-sm"></button>
                <button type="submit" pButton pRipple label="{{'labels.buttons.Add' | translate}}"
                    class="primary-button px-5 text-sm"></button>
            </div>
        </form>
        
    </p-sidebar>
}